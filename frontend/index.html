<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atlas Framework - Axiom Fleet Management</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2 class="logo">Atlas Framework</h2>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <ul class="nav-menu">
                <li class="nav-item active" data-page="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">Dashboard</span>
                </li>
                <li class="nav-item" data-page="controllers">
                    <span class="nav-icon">üéõÔ∏è</span>
                    <span class="nav-text">Controllers</span>
                </li>
                <li class="nav-item" data-page="deploy">
                    <span class="nav-icon">üöÄ</span>
                    <span class="nav-text">Deploy Fleet</span>
                </li>
                <li class="nav-item" data-page="instances">
                    <span class="nav-icon">üñ•Ô∏è</span>
                    <span class="nav-text">Instances</span>
                </li>
                <li class="nav-item" data-page="scans">
                    <span class="nav-icon">üîç</span>
                    <span class="nav-text">Scans</span>
                </li>
                <li class="nav-item" data-page="terminal">
                    <span class="nav-icon">üíª</span>
                    <span class="nav-text">Terminal</span>
                </li>
                <li class="nav-item" data-page="files">
                    <span class="nav-icon">üìÅ</span>
                    <span class="nav-text">Files</span>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <h1 class="page-title" id="pageTitle">Dashboard</h1>
                    <div class="breadcrumb" id="breadcrumb">Atlas Framework &gt; Dashboard</div>
                </div>
                <div class="header-right">
                    <div class="status-indicator">
                        <span class="status-dot active" id="statusDot"></span>
                        <span class="status-text" id="statusText">Connected</span>
                    </div>
                    <div class="current-time" id="currentTime"></div>
                </div>
            </header>

            <!-- Dashboard Page -->
            <div class="page-content" id="dashboardPage">
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">üéõÔ∏è</div>
                        <div class="metric-content">
                            <div class="metric-value" id="activeControllers">1</div>
                            <div class="metric-label">Active Controllers</div>
                            <div class="metric-trend positive">+0 since yesterday</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üñ•Ô∏è</div>
                        <div class="metric-content">
                            <div class="metric-value" id="runningInstances">2</div>
                            <div class="metric-label">Running Instances</div>
                            <div class="metric-trend positive">+2 since yesterday</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üîç</div>
                        <div class="metric-content">
                            <div class="metric-value" id="activeScans">0</div>
                            <div class="metric-label">Active Scans</div>
                            <div class="metric-trend neutral">No change</div>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üí∞</div>
                        <div class="metric-content">
                            <div class="metric-value" id="estimatedCost">$48.90</div>
                            <div class="metric-label">Est. Monthly Cost</div>
                            <div class="metric-trend neutral">Current month</div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-section world-map-section">
                        <h3>Global Fleet Overview</h3>
                        <div class="world-map" id="worldMap">
                            <svg viewBox="0 0 1000 500" class="map-svg">
                                <!-- Simplified world map -->
                                <rect width="1000" height="500" fill="#2a2a2a"/>
                                <!-- Europe -->
                                <circle cx="500" cy="150" r="4" fill="#32a1b1" class="location-dot" title="Europe-West1: 2 instances"/>
                                <!-- Add more location dots based on data -->
                            </svg>
                        </div>
                    </div>

                    <div class="dashboard-section">
                        <h3>Recent Activity</h3>
                        <div class="activity-timeline" id="activityTimeline">
                            <div class="activity-item">
                                <div class="activity-time">07:20</div>
                                <div class="activity-content">
                                    <div class="activity-action">Controller Health Check</div>
                                    <div class="activity-details">axiom-gcp-primary - Status OK</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-time">05:05</div>
                                <div class="activity-content">
                                    <div class="activity-action">Fleet Deployed</div>
                                    <div class="activity-details">2 instances in europe-west1</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-section">
                        <h3>Cost Breakdown</h3>
                        <div class="chart-container">
                            <canvas id="costChart" width="300" height="200"></canvas>
                        </div>
                    </div>

                    <div class="dashboard-section quick-actions">
                        <h3>Quick Actions</h3>
                        <div class="quick-action-buttons">
                            <button class="btn btn-primary" data-action="deploy">Deploy Fleet</button>
                            <button class="btn btn-secondary" data-action="scan">New Scan</button>
                            <button class="btn btn-secondary" data-action="terminal">Open Terminal</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Controllers Page -->
            <div class="page-content hidden" id="controllersPage">
                <div class="page-header">
                    <h2>Controller Management</h2>
                    <button class="btn btn-primary" id="addControllerBtn">Add Controller</button>
                </div>
                
                <div class="table-container">
                    <table class="data-table" id="controllersTable">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Host</th>
                                <th>Region</th>
                                <th>Provider</th>
                                <th>Status</th>
                                <th>Last Seen</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="controllersTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Deploy Fleet Page -->
            <div class="page-content hidden" id="deployPage">
                <div class="page-header">
                    <h2>Deploy Fleet</h2>
                </div>
                
                <div class="deploy-container">
                    <form class="deploy-form" id="deployForm">
                        <div class="form-group">
                            <label for="fleetName">Fleet Name</label>
                            <input type="text" id="fleetName" class="form-control" placeholder="my-fleet" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="provider">Provider</label>
                                <select id="provider" class="form-control" required>
                                    <option value="GCP">Google Cloud Platform</option>
                                    <option value="AWS">Amazon Web Services</option>
                                    <option value="DigitalOcean">DigitalOcean</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="region">Region</label>
                                <select id="region" class="form-control" required>
                                    <!-- Populated by JavaScript -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="instanceType">Instance Type</label>
                            <select id="instanceType" class="form-control" required>
                                <!-- Populated by JavaScript -->
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="instanceCount">Instance Count: <span id="instanceCountValue">3</span></label>
                            <input type="range" id="instanceCount" min="1" max="10" value="3" class="slider">
                        </div>
                        
                        <div class="cost-estimate">
                            <div class="cost-label">Estimated Monthly Cost:</div>
                            <div class="cost-value" id="estimatedMonthlyCost">$73.35</div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-lg" id="deployBtn">
                            Deploy Fleet
                        </button>
                    </form>
                    
                    <div class="deployment-progress hidden" id="deploymentProgress">
                        <div class="progress-header">
                            <h4>Deploying Fleet...</h4>
                            <div class="progress-percentage">0%</div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-details" id="progressDetails">
                            Initializing deployment...
                        </div>
                    </div>
                </div>
                
                <div class="recent-deployments">
                    <h3>Recent Deployments</h3>
                    <div class="deployments-list" id="deploymentsList">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Instances Page -->
            <div class="page-content hidden" id="instancesPage">
                <div class="page-header">
                    <h2>Running Instances</h2>
                    <div class="page-actions">
                        <input type="text" class="search-input" placeholder="Search instances..." id="instanceSearch">
                        <select class="filter-select" id="regionFilter">
                            <option value="">All Regions</option>
                        </select>
                        <select class="filter-select" id="statusFilter">
                            <option value="">All Status</option>
                            <option value="running">Running</option>
                            <option value="starting">Starting</option>
                            <option value="stopped">Stopped</option>
                        </select>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="data-table" id="instancesTable">
                        <thead>
                            <tr>
                                <th><input type="checkbox" id="selectAllInstances"></th>
                                <th>Name</th>
                                <th>External IP</th>
                                <th>Internal IP</th>
                                <th>Region</th>
                                <th>Type</th>
                                <th>Status</th>
                                <th>Uptime</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="instancesTableBody">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <div class="bulk-actions" id="bulkActions">
                    <button class="btn btn-danger" id="bulkTerminate">Terminate Selected</button>
                    <button class="btn btn-secondary" id="bulkReboot">Reboot Selected</button>
                </div>
            </div>

            <!-- Scans Page -->
            <div class="page-content hidden" id="scansPage">
                <div class="page-header">
                    <h2>Scan Management</h2>
                </div>
                
                <div class="scans-container">
                    <form class="scan-form" id="scanForm">
                        <div class="form-group">
                            <label for="scanName">Scan Name</label>
                            <input type="text" id="scanName" class="form-control" placeholder="vulnerability-scan" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="scanModule">Module</label>
                                <select id="scanModule" class="form-control" required>
                                    <!-- Populated by JavaScript -->
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="scanFleet">Fleet</label>
                                <select id="scanFleet" class="form-control" required>
                                    <option value="all">All Instances</option>
                                    <!-- Populated by JavaScript -->
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="scanTargets">Targets</label>
                            <textarea id="scanTargets" class="form-control" rows="4" placeholder="example.com&#10;10.0.0.1/24&#10;targets.txt"></textarea>
                            <small class="form-help">Enter targets (one per line) or upload a file</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="scanArgs">Arguments</label>
                            <input type="text" id="scanArgs" class="form-control" placeholder="-t cves/">
                        </div>
                        
                        <button type="submit" class="btn btn-primary" id="startScanBtn">
                            Start Scan
                        </button>
                    </form>
                    
                    <div class="active-scans">
                        <h3>Active Scans</h3>
                        <div class="scans-list" id="activeScansList">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="completed-scans">
                        <h3>Completed Scans</h3>
                        <div class="scans-list" id="completedScansList">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Terminal Page -->
            <div class="page-content hidden" id="terminalPage">
                <div class="terminal-header">
                    <div class="terminal-controls">
                        <select id="controllerSelect" class="form-control">
                            <!-- Populated by JavaScript -->
                        </select>
                        <div class="connection-status">
                            <span class="status-dot" id="terminalStatusDot"></span>
                            <span id="terminalStatus">Disconnected</span>
                        </div>
                    </div>
                    <div class="quick-commands">
                        <button class="btn btn-sm btn-secondary" data-command="axiom-ls">axiom-ls</button>
                        <button class="btn btn-sm btn-secondary" data-command="axiom-select *">axiom-select *</button>
                        <button class="btn btn-sm btn-secondary" data-command="axiom-fleet">axiom-fleet</button>
                        <button class="btn btn-sm btn-secondary" data-command="axiom-scan --help">axiom-scan</button>
                    </div>
                </div>
                
                <div class="terminal-container">
                    <div class="terminal-output" id="terminalOutput">
                        <div class="terminal-welcome">
                            Welcome to Atlas Framework Terminal<br>
                            Connect to an Axiom controller to start...<br>
                        </div>
                    </div>
                    <div class="terminal-input-container">
                        <span class="terminal-prompt" id="terminalPrompt">atlas@framework:~$</span>
                        <input type="text" class="terminal-input" id="terminalInput" autocomplete="off" spellcheck="false">
                    </div>
                </div>
            </div>

            <!-- Files Page -->
            <div class="page-content hidden" id="filesPage">
                <div class="page-header">
                    <h2>File Management</h2>
                </div>
                
                <div class="files-container">
                    <div class="file-upload-section">
                        <form class="upload-form" id="uploadForm">
                            <div class="drag-drop-zone" id="dragDropZone">
                                <div class="drag-drop-content">
                                    <span class="upload-icon">üìÅ</span>
                                    <div class="upload-text">Drag &amp; drop files here or click to browse</div>
                                    <input type="file" id="fileInput" multiple hidden>
                                </div>
                            </div>
                            
                            <div class="upload-options">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="fileType">File Type</label>
                                        <select id="fileType" class="form-control">
                                            <option value="wordlist">Wordlist</option>
                                            <option value="targets">Targets</option>
                                            <option value="script">Script</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="targetFleet">Target Fleet</label>
                                        <select id="targetFleet" class="form-control">
                                            <option value="all">All Instances</option>
                                            <!-- Populated by JavaScript -->
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="distributeFile">
                                        Split file across instances
                                    </label>
                                </div>
                                
                                <button type="submit" class="btn btn-primary" id="uploadBtn">
                                    Upload Files
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="files-list-section">
                        <h3>Uploaded Files</h3>
                        <div class="table-container">
                            <table class="data-table" id="filesTable">
                                <thead>
                                    <tr>
                                        <th>Filename</th>
                                        <th>Size</th>
                                        <th>Type</th>
                                        <th>Uploaded</th>
                                        <th>Fleet</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="filesTableBody">
                                    <!-- Populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Modals -->
    <div class="modal-overlay hidden" id="modalOverlay">
        <div class="modal" id="confirmModal">
            <div class="modal-header">
                <h3 id="modalTitle">Confirm Action</h3>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-body">
                <p id="modalMessage">Are you sure you want to proceed?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="modalCancel">Cancel</button>
                <button class="btn btn-danger" id="modalConfirm">Confirm</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>